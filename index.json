[{"categories":["教程"],"content":" 计划使用Hugo+GitHub Actions自动部署blog，在这过程中遇到不少坑，特此记录，以供参考 ","date":"2024-04-08","objectID":"/posts/hugo%E6%90%AD%E5%BB%BAblog%E6%95%99%E7%A8%8B%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/:0:0","tags":["hugo"],"title":"Hugo搭建Blog教程踩坑指南","uri":"/posts/hugo%E6%90%AD%E5%BB%BAblog%E6%95%99%E7%A8%8B%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/"},{"categories":["教程"],"content":"个人方案 两个GitHub仓库，一个用来存放blog项目，并使用自动部署deploy静态网站到divvspace.github.io仓库，这样就可以只操作blog项目即可，每次有更新直接push到远端即可。 blog仓库： 存储Hugo项目，把/public/文件下内容deploy到divvspace.github.io divvspace.github.io： Hugo项目生成的静态网站 主题安装问题 直接clone主题到themes文件夹会导致无法添加主题项目文件到git，theme文件夹为空。 解决办法：使用官方建议的方法 git submodule add https://github.com/dillonzq/LoveIt.git themes/LoveIt 主题安装及配置参考教程 ","date":"2024-04-08","objectID":"/posts/hugo%E6%90%AD%E5%BB%BAblog%E6%95%99%E7%A8%8B%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/:1:0","tags":["hugo"],"title":"Hugo搭建Blog教程踩坑指南","uri":"/posts/hugo%E6%90%AD%E5%BB%BAblog%E6%95%99%E7%A8%8B%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/"},{"categories":["教程"],"content":"自动化操作 生成ssh-key ssh-keygen -t rsa -b 4096 -C \"{{your_email@example.com}}\" divvspace.github.io仓库 Setting - Security - Deploy keys设置上面生成的公钥 要勾选Allow write access Blog项目仓库 在项目目录下添加.github/workflows/deploy.yml文件 name: Auto Deploy hugo on: push: workflow_dispatch: schedule: # 定时执行 - cron: \"0 2 * * *\" jobs: Explore-GitHub-Actions: runs-on: ubuntu-latest steps: - name: Check out repository code uses: actions/checkout@v2 with: submodules: true fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: latest extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }} # secret 中设置好私钥，名称和上面设置的一样 external_repository: DivvSpace/DivvSpace.github.io # Page 仓库地址 publish_branch: master # Page 仓库的分支 publish_dir: ./public # 静态网页路径 commit_message: ${{ github.event.head_commit.message }} Blog项目仓库Setting- Secrets and variables - Actions - New repostiory secret添加私钥 名字与deeply.yml中保持一致。 ","date":"2024-04-08","objectID":"/posts/hugo%E6%90%AD%E5%BB%BAblog%E6%95%99%E7%A8%8B%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/:1:1","tags":["hugo"],"title":"Hugo搭建Blog教程踩坑指南","uri":"/posts/hugo%E6%90%AD%E5%BB%BAblog%E6%95%99%E7%A8%8B%E8%B8%A9%E5%9D%91%E6%8C%87%E5%8D%97/"}]